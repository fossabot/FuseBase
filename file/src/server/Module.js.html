<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/server/Module.js | FuseBase</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A C&amp;C server made in nodejs"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="FuseBase"><meta property="twitter:description" content="A C&amp;C server made in nodejs"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/lukas2005/FuseBase.git"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  </ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/server/Module.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">module.exports = class Module {
	constructor() {
		this.remoteFunctions = {};
		this.deps = [];
		this.config = {};
		this.name = &quot;&quot;;
		this.isAutoRun = true;
		this.controlPanelEvents = [];
	}
	
	/**
	 * 
	 * @param {string} name sets the name of this module
	 */
	setName(name) {
		this.name = name;
	}
	
	/**
	 * Adds a new remote function to this module
	 * @param {string} name Name of the remote function
	 * @param {function} func Remote function&apos;s code {EXECUTED ON THE TARGET}
	 */
	addRemoteFunction(name, func) {
		this.remoteFunctions[name] = func;
	}
	
	/**
	 * Adds a dependenyc to this module. Useful for including libraries that must be present on the target for execution of the remote function(s)
	 * @param {string} url Url to the js file that is going to get included
	 * @param {string} integrity Sets the integrity and crossoigin parameters of the script tag (SRI)
	 * @see https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity
	 */
	addDependencies(url, integrity) {
		let dep = {};
		dep.url = url;
		dep.integrity = integrity || null;
		this.deps.push(dep);
	}	
	
	/**
	 * Sets the default config obj
	 * @param {*} config Object that is provided to you in the main function. Useful if you want to make your module configurable
	 */
	setDefaultConfig(config) {
		this.config = config;
	}
	
	/**
	 * Sets a valuse of the config object
	 * @param {*} name 
	 * @param {*} val 
	 */
	setConfigOpt(name, val) {
		this.config[name] = val;
	}	
	
	/**
	 * Sets the main function of the module.
	 * @param {function} mainFunc main function of the module {EXECUTED ON THE SERVER}
	 */
	setMainFunction(mainFunc) {
		this.mainFunc = mainFunc;
	}	
	
	/**
	 * Should this module appear in the control panel as a toggleable auto run module?
	 * @param {boolean} bool 
	 */
	setAutoRunStatus(bool) {
		this.isAutoRun = bool;
	}
	
	addControlPanelEvent(name, func) {
		this.controlPanelEvents.push({
			function: func,
			name: name
		});
	}

	/**
	 * Execute the module
	 * @param {SocketIO.Socket} socket SocketIO socket to execute the module on.
	 * @param {*} config [Optional] The config object. If not specified the default config object is used
	 */
	exec(socket, config) {
		return this.mainFunc(this, socket, config || this.config);
	}
};</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
